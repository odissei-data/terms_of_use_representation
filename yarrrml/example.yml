prefixes:
  doi: http://doi.org/
  dcterms: http://purl.org/dc/terms/
  dcat: http://www.w3.org/ns/dcat#
  opl: http://www.w3id.org/odissei/ns/terms_of_use_representation/
  odrl: http://www.w3.org/ns/odrl/2/
  grel: http://users.ugent.be/~bjdmeest/function/grel.ttl#
  idlab-fn: http://example.com/idlab/function/

mappings:
  test:
    sources:
      - ['dans3march.xml~xpath', 'resource']
    s: doi:$(identifier)
    po:
      - [a, dcat:Dataset]
      - [dcterms:creator, $(creators/creator/creatorName),xsd:string]
      - [dcterms:title, $(titles/title), xsd:string]
      - [dcterms:publisher, $(publisher), xsd:string]
      - [dcterms:isPartOf, $(subjects/subject),xsd:string]
      - [dcterms:contributor, $(contributors/contributor/contributorName), xsd:string]
      - [dcterms:dateSubmitted, "$(dates/date[@dateType='Submitted'])", xsd:date]
      - [dcterms:created, "$(dates/date[@dateType='Created'])", xsd:date]
      - [ex:dateAvailble, "$(dates/date[@dateType='Available'])", xsd:date]
      - [dcterms:language, $(language), xsd:language]
      - [dcterms:type, $(resourceType), xsd:string]
      - [ex:alternativeIdentifier, "URN:$(alternateIdentifiers/alternateIdentifier[@alternateIdentifierType='URN'])", xsd:string]
      - [ex:alternativeIdentifier, "DMO_ID:$(alternateIdentifiers/alternateIdentifier[@alternateIdentifierType='DMO_ID'])", xsd:string]
      - [dcterms:format, $(formats/format), xsd:string]
      - predicates: opl:hasAccess
        objects: 
            - function: idlab-fn:decide
              parameters:
                - [idlab-fn:str, "$(rightsList/rights[1])"]
                - [idlab-fn:expectedStr, "info:eu-repo/semantics/restrictedAccess"]
                - [idlab-fn:result, opl:Restricted]
      - [opl:hasPolicy, "$(rightsList/rights[2])"]
      
      
      